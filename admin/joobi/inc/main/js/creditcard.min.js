function checkCreditCard(p,c){var g=new Array();g[0]={name:"Visa",length:"13,16",prefixes:"4",checkdigit:true};g[1]={name:"MasterCard",length:"16",prefixes:"51,52,53,54,55",checkdigit:true};g[2]={name:"DinersClub",length:"14,16",prefixes:"305, 36, 38, 54,55",checkdigit:true};g[3]={name:"CarteBlanche",length:"14",prefixes:"300,301,302,303,304,305",checkdigit:true};g[4]={name:"AmEx",length:"15",prefixes:"34,37",checkdigit:true};g[5]={name:"Discover",length:"16",prefixes:"6011,622,64,65",checkdigit:true};g[6]={name:"JCB",length:"16",prefixes:"35",checkdigit:true};g[7]={name:"enRoute",length:"15",prefixes:"2014,2149",checkdigit:true};g[8]={name:"Solo",length:"16,18,19",prefixes:"6334, 6767",checkdigit:true};g[9]={name:"Switch",length:"16,18,19",prefixes:"4903,4905,4911,4936,564182,633110,6333,6759",checkdigit:true};g[10]={name:"Maestro",length:"12,13,14,15,16,18,19",prefixes:"5018,5020,5038,6304,6759,6761",checkdigit:true};g[11]={name:"VisaElectron",length:"16",prefixes:"417500,4917,4913,4508,4844",checkdigit:true};g[12]={name:"LaserCard",length:"16,17,18,19",prefixes:"6304,6706,6771,6709",checkdigit:true};var w=document.getElementById(p);var m=w.value;var d=document.getElementById(c);var q=d.value;var u=-1;for(var t=0;t<g.length;t++){if(m.toLowerCase()==g[t].name.toLowerCase()){u=t;break}}if(u==-1){ccErrorNo=0;return invalidCreditMessage(0)}if(q.length==0){ccErrorNo=1;return invalidCreditMessage(1)}q=q.replace(/\s/g,"");var n=q;var o=/^[0-9]{13,19}$/;if(!o.exec(n)){ccErrorNo=2;return invalidCreditMessage(2)}if(g[u].checkdigit){var h=0;var v="";var s=1;var a;for(t=n.length-1;t>=0;t--){a=Number(n.charAt(t))*s;if(a>9){h=h+1;a=a-10}h=h+a;if(s==1){s=2}else{s=1}}if(h%10!=0){ccErrorNo=3;return invalidCreditMessage(3)}}var e=false;var b=false;var k;var r=new Array();var f=new Array();r=g[u].prefixes.split(",");for(t=0;t<r.length;t++){var l=new RegExp("^"+r[t]);if(l.test(n)){b=true}}if(!b){ccErrorNo=3;return invalidCreditMessage(3)}f=g[u].length.split(",");for(s=0;s<f.length;s++){if(n.length==f[s]){e=true}}if(!e){ccErrorNo=4;return invalidCreditMessage(4)}return true}function invalidCreditMessage(a){var b=0;var c=new Array();c[0]="Unknown card type";c[1]="No card number provided";c[2]="Credit card number is in invalid format";c[3]="Credit card number is invalid";c[4]="Credit card number has an inappropriate number of digits";c[5]="Invalid Expiration Date";c[6]="Credit Card Expired or invalid format";if(a<=c.length){alert(c[a])}else{alert("Invalid Credit Card!")}return false};